{# templates/admin/partials/_user_table_body.html.twig #}

{% for user in users %}
    <tr>
        <td class="text-center">
            {% if user.avatar %}
                <img src="{{ asset('uploads/avatars/' ~ user.avatar) }}" width="50" height="50" class="rounded-circle" alt="Avatar">
            {% else %}
                <img src="{{ asset('images/default-avatar.png') }}" width="50" height="50" class="rounded-circle" alt="Default Avatar">
            {% endif %}
        </td>
        <td class="text-center">{{ user.id }}</td>
        <td class="text-center">{{ user.email }}</td>
        <td class="text-center">{{ user.nom }}</td>
        <td class="text-center">{{ user.prenom }}</td>
        <td class="text-center">{{ user.telephone }}</td>
        <td class="text-center">{{ user.roles | join(', ') }}</td>
        <td class="text-center">
            {% if user.status == 'active' %}
                <span class="badge bg-success text-white">Actif</span>
            {% elseif user.status == 'blocked' %}
                <span class="badge bg-danger text-white">Bloqué</span>
            {% else %}
                <span class="badge bg-secondary text-white">Inactif</span>
            {% endif %}
        </td>
        <td class="text-center">
            <div class="d-flex justify-content-center">
                <a href="{{ path('admin_user_edit', {'id': user.id}) }}" class="btn btn-warning btn-sm mr-2">
                    <i class="fas fa-edit"></i> Modifier
                </a>
                <a href="{{ path('admin_user_delete', {'id': user.id}) }}" class="btn btn-danger btn-sm" onclick="return confirm('Êtes-vous sûr ?')">
                    <i class="fas fa-trash-alt"></i> Supprimer
                </a>
            </div>
        </td>
    </tr>
{% endfor %}
